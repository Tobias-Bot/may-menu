<template>
  <v-container>
    <NoteBar :notes="Notes" />
    <br />
    <br />
    <v-card class="cardCover" style="text-align: left">
      <div class="cardHintText">–û –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–∏</div>
      <span
        >–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –Ω–æ —Ç—ã —É–∂–µ –º–æ–∂–µ—à—å –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è
        –∏–º. –ï—Å–ª–∏ —É —Ç–µ–±—è –µ—Å—Ç—å —Å–≤–æ–∏ –∏–¥–µ–∏, —á—Ç–æ –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –¥–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ,
        –ø–∏—à–∏ –Ω–∞–º –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –º—ã –±—É–¥–µ–º —Ä–∞–¥—ã üåø
      </span>
      <!-- <v-sparkline
        class="mb-3"
        :gradient="['#ff8fcb', '#a6adfd']"
        color="#8A9EFE"
        line-width="3"
        padding="10"
        smooth="6"
        :value="value"
        auto-draw-easing
      ></v-sparkline> -->
    </v-card>

    <div class="pageToolBar">
      <v-btn
        href="https://vk.com/im?sel=-160404048"
        target="_blank"
        class="mr-2"
        light
        color="white"
        small
      >
        <v-icon dark> mdi-forum </v-icon> –ù–∞–ø–∏—Å–∞—Ç—å –≤ –ú–∞–π
      </v-btn>
      <v-btn class="mr-2" light small color="white" @click="shareApp">
        <v-icon dark> mdi-share </v-icon>
      </v-btn>
    </div>
  </v-container>
</template>

<script>
import bridge from "@vkontakte/vk-bridge";

import NoteBar from "./Notes/NoteBar";

export default {
  name: "Main",
  components: {
    NoteBar,
  },
  data: () => ({
    moodValue: [],
  }),
  created() {
    this.getNotes();
  },
  computed: {
    Notes() {
      return this.$store.getters.getNotes;
    },
  },
  methods: {
    shareApp() {
      let appId = this.$store.getters.getAppId;

      bridge.send("VKWebAppShare", {
        link: `https://vk.com/app${appId}`,
      });
    },
    getNotes() {
      if (!this.Notes.length) {
        this.$store.dispatch("getNotes");
      }
    },
    setMoodTrackerPoint() {
      // let date = this.$store.getters.getToday;
      // let value =
      // let point = {
      //   d: date,
      //   v:
      // }
      // this.$store.dispatch("saveTrackerResults", point);
    },
  },
};
</script>
